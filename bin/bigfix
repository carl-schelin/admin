#!/bin/ksh

# Carl Schelin
# Process:
# Run remotely by a service account (unixsvc), this script 
# removes nodes from the Kubernetes pool on the scheduled nights BigFix
# is to patch. Since we can't determine when the patching or rebooting will 
# occur, this will remove the servers for the entirety of the maintenance window

BASENAME=$(basename "$0")
DIRNAME=$(dirname "$0")

if [[ ! -f ${DIRNAME}/../.config ]]
then
  echo "Unable to locate ${DIRNAME}/../.config. Exiting."
  exit 1
fi

# Source the configuration file
. "${DIRNAME}"/../.config

DOW=`/usr/bin/date +"%a"`
TIME=`/usr/bin/date +"%H%M"`
START="0355"
END="1005"
LOGS=${SCRIPTS_LOGS}/bigfix.log
CONTEXT="unixsvc-admin"

if [[ $DOW = "Tue" ]]
then
  if [[ -f ${LOGS} ]]
  then
    rm ${LOGS}
  fi
fi

if [[ ${TIME} = ${START} ]]
then
  echo "========[ `/usr/bin/date` ]========================" >> ${LOGS}
  echo "Beginning draining of nodes in preparation for maintenance tasks" >> ${LOGS}
  echo "" >> ${LOGS}
  case $DOW in
    "Tue") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context
       /usr/local/bin/kubectl drain iclkuberworker1.intrado.sqa --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain iclkuberworker6.intrado.sqa --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain bldr0ek8sifw01.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain bldr0ek8sifw06.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain gldn0ek8sifw01.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain cabo0ek8sifw01.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain cabo0ek8sifw06.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain hell0ek8sifw01.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode01 --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode06.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode11.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain alde0euomknode01 --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode01.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode06.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
#       /usr/local/bin/kubectl drain lnmt1euomknode11.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode16.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain miam1euomknode01.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       ;;


    "Wed") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain iclkuberworker2.intrado.sqa --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain bldr0ek8sifw02.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain bldr0ek8sifw07.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain gldn0ek8sifw02.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain cabo0ek8sifw02.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain cabo0ek8sifw07.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain hell0ek8sifw02.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode02 --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode07.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode12.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain alde0euomknode02 --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode02.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode07.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode12.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode17.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain miam1euomknode02.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       ;;


    "Thu") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain iclkuberworker3.intrado.sqa --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain bldr0ek8sifw03.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain gldn0ek8sifw03.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain cabo0ek8sifw03.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain hell0ek8sifw03.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode03 --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode08.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode13.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain alde0euomknode03 --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode03.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode08.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode13.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode18.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain miam1euomknode03.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       ;;


    "Fri") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain iclkuberworker4.intrado.sqa --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain bldr0ek8sifw04.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain gldn0ek8sifw04.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain cabo0ek8sifw04.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain hell0ek8sifw04.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode04.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode09.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode14.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain alde0euomknode04.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode04.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode09.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode14.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode19.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain miam1euomknode04.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       ;;


    "Sat") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain iclkuberworker5.intrado.sqa --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain bldr0ek8sifw05.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain gldn0ek8sifw05.e911.dev.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain cabo0ek8sifw05.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain hell0ek8sifw05.e911.sqa.intrado.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode05.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain tato0euomknode10.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl drain alde0euomknode05.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode05.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode10.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       /usr/local/bin/kubectl drain lnmt1euomknode15.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl drain miam1euomknode05.scc911.com --delete-local-data --ignore-daemonsets >> ${LOGS}
       ;;
  esac
  echo "" >> ${LOGS}
  echo "Ending draining of nodes for maintenance tasks" >> ${LOGS}
  echo "========[ `/usr/bin/date` ]========================" >> ${LOGS}

fi


if [[ ${TIME} = ${END} ]]
then
  echo "========[ `/usr/bin/date` ]========================" >> ${LOGS}
  echo "Returning nodes to service now that maintenance has ended" >> ${LOGS}
  echo "" >> ${LOGS}
  case $DOW in
    "Tue") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon iclkuberworker1.intrado.sqa >> ${LOGS}
       /usr/local/bin/kubectl uncordon iclkuberworker6.intrado.sqa >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon bldr0ek8sifw01.e911.dev.intrado.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon bldr0ek8sifw06.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon gldn0ek8sifw01.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon cabo0ek8sifw01.e911.sqa.intrado.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon cabo0ek8sifw06.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon hell0ek8sifw01.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode01 >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode06.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode11.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon alde0euomknode01 >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode01.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode06.scc911.com >> ${LOGS}
#       /usr/local/bin/kubectl uncordon lnmt1euomknode11.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode16.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon miam1euomknode01.scc911.com >> ${LOGS}
       ;;


    "Wed") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon iclkuberworker2.intrado.sqa >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon bldr0ek8sifw02.e911.dev.intrado.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon bldr0ek8sifw07.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon gldn0ek8sifw02.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon cabo0ek8sifw02.e911.sqa.intrado.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon cabo0ek8sifw07.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon hell0ek8sifw02.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode02 >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode07.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode12.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon alde0euomknode02 >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode02.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode07.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode12.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode17.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon miam1euomknode02.scc911.com >> ${LOGS}
       ;;


    "Thu") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon iclkuberworker3.intrado.sqa >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon bldr0ek8sifw03.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon gldn0ek8sifw03.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon cabo0ek8sifw03.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon hell0ek8sifw03.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode03 >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode08.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode13.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon alde0euomknode03 >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode03.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode08.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode13.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode18.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon miam1euomknode03.scc911.com >> ${LOGS}
       ;;


    "Fri") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon iclkuberworker4.intrado.sqa >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon bldr0ek8sifw04.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon gldn0ek8sifw04.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon cabo0ek8sifw04.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon hell0ek8sifw04.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode04.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode09.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode14.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon alde0euomknode04.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode04.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode09.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode14.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode19.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon miam1euomknode04.scc911.com >> ${LOGS}
       ;;


    "Sat") /usr/local/bin/kubectl config use-context ${CONTEXT}-icl-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon iclkuberworker5.intrado.sqa >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-bldr0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon bldr0ek8sifw05.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-gldn0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon gldn0ek8sifw05.e911.dev.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-cabo0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon cabo0ek8sifw05.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-hell0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon hell0ek8sifw05.e911.sqa.intrado.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-tato0-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode05.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon tato0euomknode10.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-alde0-0-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon alde0euomknode05.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-lnmt1-2-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode05.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode10.scc911.com >> ${LOGS}
       /usr/local/bin/kubectl uncordon lnmt1euomknode15.scc911.com >> ${LOGS}

       /usr/local/bin/kubectl config use-context ${CONTEXT}-miam1-1-context >> ${LOGS}
       /usr/local/bin/kubectl uncordon miam1euomknode05.scc911.com >> ${LOGS}
       ;;
  esac
  echo "" >> ${LOGS}
  echo "uncordoning tasks has been completed" >> ${LOGS}
  echo "========[ `/usr/bin/date` ]========================" >> ${LOGS}

fi

